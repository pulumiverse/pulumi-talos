// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;
using Pulumi;

namespace Pulumiverse.Talos.Machine
{
    public static class GetDisks
    {
        /// <summary>
        /// Generate a machine configuration for a node type
        /// 
        /// &gt; **Note:** Since Talos natively supports `.machine.install.diskSelector`, the `talos.machine.getDisks` data source maybe just used to query disk information that could be used elsewhere. It's recommended to use `machine.install.diskSelector` in Talos machine configuration.
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Talos = Pulumi.Talos;
        /// using Talos = Pulumiverse.Talos;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var thisSecrets = new Talos.Machine.Secrets("this");
        /// 
        ///     var @this = Talos.Machine.GetDisks.Invoke(new()
        ///     {
        ///         ClientConfiguration = thisSecrets.ClientConfiguration,
        ///         Node = "10.5.0.2",
        ///         Filters = new Talos.Machine.Inputs.GetDisksFiltersInputArgs
        ///         {
        ///             Size = "&gt; 100GB",
        ///             Type = "nvme",
        ///         },
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["nvmeDisks"] = @this.Apply(@this =&gt; @this.Apply(getDisksResult =&gt; getDisksResult.Disks).Select(__item =&gt; __item.Name).ToList()),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Task<GetDisksResult> InvokeAsync(GetDisksArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.InvokeAsync<GetDisksResult>("talos:machine/getDisks:getDisks", args ?? new GetDisksArgs(), options.WithDefaults());

        /// <summary>
        /// Generate a machine configuration for a node type
        /// 
        /// &gt; **Note:** Since Talos natively supports `.machine.install.diskSelector`, the `talos.machine.getDisks` data source maybe just used to query disk information that could be used elsewhere. It's recommended to use `machine.install.diskSelector` in Talos machine configuration.
        /// 
        /// ## Example Usage
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Talos = Pulumi.Talos;
        /// using Talos = Pulumiverse.Talos;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var thisSecrets = new Talos.Machine.Secrets("this");
        /// 
        ///     var @this = Talos.Machine.GetDisks.Invoke(new()
        ///     {
        ///         ClientConfiguration = thisSecrets.ClientConfiguration,
        ///         Node = "10.5.0.2",
        ///         Filters = new Talos.Machine.Inputs.GetDisksFiltersInputArgs
        ///         {
        ///             Size = "&gt; 100GB",
        ///             Type = "nvme",
        ///         },
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["nvmeDisks"] = @this.Apply(@this =&gt; @this.Apply(getDisksResult =&gt; getDisksResult.Disks).Select(__item =&gt; __item.Name).ToList()),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Output<GetDisksResult> Invoke(GetDisksInvokeArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.Invoke<GetDisksResult>("talos:machine/getDisks:getDisks", args ?? new GetDisksInvokeArgs(), options.WithDefaults());
    }


    public sealed class GetDisksArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// The client configuration data
        /// </summary>
        [Input("clientConfiguration", required: true)]
        public Inputs.GetDisksClientConfigurationArgs ClientConfiguration { get; set; } = null!;

        /// <summary>
        /// endpoint to use for the talosclient. If not set, the node value will be used
        /// </summary>
        [Input("endpoint")]
        public string? Endpoint { get; set; }

        /// <summary>
        /// Filters to apply to the disks
        /// </summary>
        [Input("filters")]
        public Inputs.GetDisksFiltersArgs? Filters { get; set; }

        /// <summary>
        /// controlplane node to retrieve the kubeconfig from
        /// </summary>
        [Input("node", required: true)]
        public string Node { get; set; } = null!;

        [Input("timeouts")]
        public Inputs.GetDisksTimeoutsArgs? Timeouts { get; set; }

        public GetDisksArgs()
        {
        }
        public static new GetDisksArgs Empty => new GetDisksArgs();
    }

    public sealed class GetDisksInvokeArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// The client configuration data
        /// </summary>
        [Input("clientConfiguration", required: true)]
        public Input<Inputs.GetDisksClientConfigurationInputArgs> ClientConfiguration { get; set; } = null!;

        /// <summary>
        /// endpoint to use for the talosclient. If not set, the node value will be used
        /// </summary>
        [Input("endpoint")]
        public Input<string>? Endpoint { get; set; }

        /// <summary>
        /// Filters to apply to the disks
        /// </summary>
        [Input("filters")]
        public Input<Inputs.GetDisksFiltersInputArgs>? Filters { get; set; }

        /// <summary>
        /// controlplane node to retrieve the kubeconfig from
        /// </summary>
        [Input("node", required: true)]
        public Input<string> Node { get; set; } = null!;

        [Input("timeouts")]
        public Input<Inputs.GetDisksTimeoutsInputArgs>? Timeouts { get; set; }

        public GetDisksInvokeArgs()
        {
        }
        public static new GetDisksInvokeArgs Empty => new GetDisksInvokeArgs();
    }


    [OutputType]
    public sealed class GetDisksResult
    {
        /// <summary>
        /// The client configuration data
        /// </summary>
        public readonly Outputs.GetDisksClientConfigurationResult ClientConfiguration;
        /// <summary>
        /// The disks that match the filters
        /// </summary>
        public readonly ImmutableArray<Outputs.GetDisksDiskResult> Disks;
        /// <summary>
        /// endpoint to use for the talosclient. If not set, the node value will be used
        /// </summary>
        public readonly string Endpoint;
        /// <summary>
        /// Filters to apply to the disks
        /// </summary>
        public readonly Outputs.GetDisksFiltersResult? Filters;
        /// <summary>
        /// The generated ID of this resource
        /// </summary>
        public readonly string Id;
        /// <summary>
        /// controlplane node to retrieve the kubeconfig from
        /// </summary>
        public readonly string Node;
        public readonly Outputs.GetDisksTimeoutsResult? Timeouts;

        [OutputConstructor]
        private GetDisksResult(
            Outputs.GetDisksClientConfigurationResult clientConfiguration,

            ImmutableArray<Outputs.GetDisksDiskResult> disks,

            string endpoint,

            Outputs.GetDisksFiltersResult? filters,

            string id,

            string node,

            Outputs.GetDisksTimeoutsResult? timeouts)
        {
            ClientConfiguration = clientConfiguration;
            Disks = disks;
            Endpoint = endpoint;
            Filters = filters;
            Id = id;
            Node = node;
            Timeouts = timeouts;
        }
    }
}
